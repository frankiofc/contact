<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Claim Garansi | Franki Store</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    .pulse:hover {
      animation: pulse 1.5s infinite;
    }
    .fade-in {
      animation: fadeIn 0.5s ease-in-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
 
<body class="bg-gray-100 font-sans">
  <div class="min-h-screen flex items-center justify-center p-6">
    <div class="bg-white shadow-xl rounded-lg max-w-2xl w-full p-8 fade-in">
      <h1 class="text-3xl font-bold text-indigo-600 mb-4 text-center">Claim Your Garansi</h1>
      <p class="text-gray-600 text-center mb-8">Fill out the form below to submit your warranty claim. Our support team will get in touch shortly.</p>

      <form id="warrantyForm" class="space-y-5" enctype="multipart/form-data">
        <input type="text" name="wname" placeholder="Full Name" required class="w-full px-4 py-2 border-b-2 border-gray-300 focus:outline-none focus:border-indigo-500 transition">
        <input type="email" name="wemail" placeholder="Email Address" required class="w-full px-4 py-2 border-b-2 border-gray-300 focus:outline-none focus:border-indigo-500 transition">
        <input type="tel" name="wphone" placeholder="Phone Number" required class="w-full px-4 py-2 border-b-2 border-gray-300 focus:outline-none focus:border-indigo-500 transition">

        <div>
          <label class="block mb-2 text-sm text-gray-700">Upload Proof of Purchase</label>
          <label class="flex items-center justify-center px-4 py-6 bg-white border-2 border-dashed border-indigo-300 rounded-lg cursor-pointer hover:bg-indigo-50">
            <i class="fas fa-upload text-indigo-600 mr-2"></i> Upload Image
            <input type="file" name="wproof" accept="image/*" required class="hidden">
          </label>
        </div>

        <textarea name="wmessage" rows="4" placeholder="Describe your issue..." required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"></textarea>

        <button type="submit" id="submitBtn" class="w-full py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition pulse">
          Submit Claim
        </button>

        <div id="loadingMsg" class="text-center text-sm text-indigo-600 hidden mt-2">
          <i class="fas fa-spinner fa-spin mr-2"></i>Submitting your claim...
        </div>
        <div id="successMsg" class="text-center text-sm text-green-600 hidden mt-2">
          <i class="fas fa-check-circle mr-1"></i>Your warranty claim has been submitted successfully.
        </div>
        <div id="errorMsg" class="text-center text-sm text-red-600 hidden mt-2">
          <i class="fas fa-times-circle mr-1"></i>Error submitting warranty claim. Please try again.
        </div>
      </form>
    </div>
  </div>
<div class="mb-6 text-center">
  <a href="index.html" class="inline-block px-4 py-2 text-indigo-600 border border-indigo-600 rounded-md hover:bg-indigo-50 transition">
    Back to Contact
  </a>
</div>
  <script>
    const form = document.getElementById('warrantyForm');
    const loadingMsg = document.getElementById('loadingMsg');
    const successMsg = document.getElementById('successMsg');
    const errorMsg = document.getElementById('errorMsg');
    const submitBtn = document.getElementById('submitBtn');

    form.addEventListener('submit', async function(e) {
      e.preventDefault();
      loadingMsg.classList.remove('hidden');
      successMsg.classList.add('hidden');
      errorMsg.classList.add('hidden');
      submitBtn.disabled = true;

      const formData = new FormData(form);
      const imageFile = formData.get('wproof');

      const caption = `üõ† *New Warranty Claim*\n\nüë§ *Name:* ${formData.get('wname')}\nüìû *Phone:* ${formData.get('wphone')}\nüìß *Email:* ${formData.get('wemail')}\nüìù *Issue:* ${formData.get('wmessage')}`;

      const botToken = '7556127257:AAHjYKxGwmz7rKEkiOGwWpNi2swmZHCriAg';
      const chatId = '6685458865';
      const apiUrl = `https://api.telegram.org/bot${botToken}/sendPhoto`;

      const uploadData = new FormData();
      uploadData.append('chat_id', chatId);
      uploadData.append('caption', caption);
      uploadData.append('parse_mode', 'Markdown');
      uploadData.append('photo', imageFile);

      try {
        await fetch(apiUrl, { method: 'POST', body: uploadData });
        successMsg.classList.remove('hidden');
        form.reset();
      } catch (error) {
        errorMsg.classList.remove('hidden');
        console.error(error);
      } finally {
        loadingMsg.classList.add('hidden');
        submitBtn.disabled = false;
      }
    });
  </script>
</body>
</html>
